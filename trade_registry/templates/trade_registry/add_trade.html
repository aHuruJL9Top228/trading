{% extends "trade_registry/wrapper.html" %}
{% load static %}

{% block content %}
<div class="block-main-content">
    <h2 class="title-part">
        Добавление торгового объекта
    </h2>

    <!-- Скрытый элемент для передачи данных в JS -->
    <div id="kind-object-data"
         data-retail-kind-id="{{ retail_kind_id|escapejs }}"
         data-wholesale-kind-id="{{ wholesale_kind_id|escapejs }}">
    </div>

    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}

        <!-- Розничная площадь -->
        <div id="square-roz-form" style="display: none;">
            <h3>Площадь розничного объекта</h3>
            {{ square_roz_form.as_p }}
        </div>

        <!-- Оптовая площадь -->
        <div id="square-opt-form" style="display: none;">
            <h3>Площадь оптового объекта</h3>
            {{ square_opt_form.as_p }}
        </div>

        <button type="submit" class="button-save">Сохранить</button>
    </form>
</div>
{% endblock %}

{% block extra_css %}
<style>
    #square-roz-form, #square-opt-form {
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: #f9f9f9;
    }

    #square-roz-form h3, #square-opt-form h3 {
        margin-top: 0;
        color: #333;
    }

    /* Стили для ошибок валидации */
    .errorlist {
        color: #d9534f;
        padding-left: 20px;
        margin: 5px 0;
    }

    .errorlist li {
        list-style: disc;
    }
</style>
{% endblock %}
